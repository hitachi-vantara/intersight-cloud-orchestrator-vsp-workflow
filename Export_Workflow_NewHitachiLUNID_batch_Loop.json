[{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","Description":"Storage target device.","Label":"Storage Target Datatype","Name":"StorageTargetDataType","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"CustomDataTypeProperties":{"ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Storage target device.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Storage Device","Name":"StorageDevice","ObjectType":"workflow.TargetDataType","Properties":[{"ConnectorAttribute":"RegisteredDevice.Moid","ConstraintAttributes":["ObjectType","ApiVersion"],"DisplayAttributes":["Name","SvpIp","Serial","Vendor"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/search/SearchItems?$filter=(IndexMotypes eq storage.BaseArray)&$orderby=Name","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"SupportedObjects":["storage.PureArray","storage.HitachiArray","storage.NetAppCluster"]}],"Required":true}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","Description":"Storage host name.","Label":"Storage Host","Name":"StorageHostNameType","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Host Name","Name":"HostName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":254,"Min":1,"ObjectType":"workflow.Constraints","Regex":"^[a-zA-Z0-9]+([_a-zA-Z0-9-]*[a-zA-Z0-9])*$"},"InventorySelector":[{"DisplayAttributes":["Name"],"ObjectType":"workflow.MoReferenceProperty","Selector":"/api/v1/search/SearchItems?$filter=(IndexMotypes eq storage.BaseHost)&$orderby=Name","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"ValueAttribute":"Name"}],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","CompositeType":true,"Description":"Hitachi host group parameter.","Label":"Hitachi Host Group Parameter","Name":"HitachiHostGroupParameterType","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Port ID for the host group.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Port Id","Name":"PortId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[{"DisplayAttributes":["PortId"],"ObjectType":"workflow.MoReferenceProperty","Selector":"/api/v1/storage/HitachiHosts?$apply=groupby((PortId),aggregate($count as count))&$orderby=PortId","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"ValueAttribute":"PortId"}],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"ID of the host group. For iSCSI ports, this number is called target ID.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Host Group Number","Name":"HostGroupNumber","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[{"DisplayAttributes":["HostGroupNumber"],"ObjectType":"workflow.MoReferenceProperty","Selector":"/api/v1/storage/HitachiHosts?$apply=groupby((HostGroupNumber),aggregate($count as count))&$orderby=HostGroupNumber","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"ValueAttribute":"HostGroupNumber"}],"ObjectType":"workflow.PrimitiveDataProperty","Type":"integer"},"Required":true}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","Description":"Volume name.","Label":"Storage Volume","Name":"StorageVolumeNameType","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Volume name","Name":"VolumeName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":254,"Min":1,"ObjectType":"workflow.Constraints","Regex":"^[a-zA-Z0-9]+([_a-zA-Z0-9-]*[a-zA-Z0-9])*$"},"InventorySelector":[{"DisplayAttributes":["Name"],"ObjectType":"workflow.MoReferenceProperty","Selector":"/api/v1/search/SearchItems?$filter=(((IndexMotypes eq storage.BaseVolume) and ( ObjectType ne storage.NetAppLun)) or (IndexMotypes eq storage.BaseStorageContainer) )&$orderby=Name&$select=Name","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"ValueAttribute":"Name"}],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","Description":"LUN number.","Label":"Storage LUN","Name":"StorageLunNumberType","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"LUN Number","Name":"LUN","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":16384,"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"integer"}}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","CompositeType":true,"Label":"Hitachi Storage LUN Path Specs","Name":"HitachiStorageLUNPathSpecs","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"user","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Host","Name":"Host","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageHostNameType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Hitachi Host Group Parameter","Name":"HitachiHostGroupParameters","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HitachiHostGroupParameterType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Volume","Name":"Volume","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageVolumeNameType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"LUN Number","Name":"LunNumber","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageLunNumberType","ObjectType":"workflow.CustomDataProperty"}}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","Description":"Platform(s) supported for storage target devices.","Label":"Storage Platform Type","Name":"StoragePlatformType","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Platform type for storage target device.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"Radio"},"Label":"Storage Platform Type","Name":"StoragePlatformType","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[{"Label":"Pure FlashArray","ObjectType":"workflow.EnumEntry","Value":"storage.PureArray"},{"Label":"Hitachi Virtual Storage Platform","ObjectType":"workflow.EnumEntry","Value":"storage.HitachiArray"},{"Label":"NetApp Active IQ Unified Manager","ObjectType":"workflow.EnumEntry","Value":"storage.NetAppCluster"},{"Label":"None","ObjectType":"workflow.EnumEntry","Value":"None"}],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"enum"}}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","CompositeType":true,"Description":"Storage vendor virtual machine name.","Label":"Storage Vendor Virtual Machine","Name":"StorageVendorVirtualMachineNameType","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[{"Condition":"eq","ControlParameter":"PlatformType","EnableParameters":["StorageVirtualMachineName"],"Name":"show-netapp","ObjectType":"workflow.ParameterSet","Value":"storage.NetAppCluster"}],"Properties":{"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Platform type of the storage device.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Platform Type","Name":"PlatformType","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StoragePlatformType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"StorageVirtualMachineName can be between 1 and 47 characters long depending on the device target selected it may vary and with first character being alphanumeric or underscore (_) and containing alphanumeric characters and \".\", \"-\" or \"_\" allowed.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Storage Virtual Machine","Name":"StorageVirtualMachineName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":47,"Min":1,"ObjectType":"workflow.Constraints","Regex":"[0-9A-z_][-A-z0-9._]*"},"InventorySelector":[{"DisplayAttributes":["Name"],"ObjectType":"workflow.MoReferenceProperty","Selector":"/api/v1/storage/NetAppStorageVms?$orderby=Name&$select=Name","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"ValueAttribute":"Name"}],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","CompositeType":true,"Description":"Storage vendor host identifier.","Label":"Storage Vendor Host Identifier","Name":"StorageVendorHostIdentifierType","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[{"Condition":"eq","ControlParameter":"PlatformType","EnableParameters":["HitachiHostGroupParameters"],"Name":"show-hitachi","ObjectType":"workflow.ParameterSet","Value":"storage.HitachiArray"}],"Properties":{"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Platform type of the storage device.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Platform Type","Name":"PlatformType","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StoragePlatformType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Hitachi host group parameter.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Hitachi Host Group Parameter","Name":"HitachiHostGroupParameters","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HitachiHostGroupParameterType","ObjectType":"workflow.CustomDataProperty"},"Required":true}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","Description":"Storage Vendor LUN path.","Label":"Storage Vendor LUN Path","Name":"StorageVendorLunPathType","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"LUN Path be between 1 and 254 characters long depending on the device target selected it may vary, for example /vol/vol1/lun1.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"LUN Path","Name":"LunPath","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":254,"Min":1,"ObjectType":"workflow.Constraints"},"InventorySelector":[{"DisplayAttributes":["Name","Path"],"ObjectType":"workflow.MoReferenceProperty","Selector":"/api/v1/storage/NetAppLuns?$orderby=Path&$select=Path","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"ValueAttribute":"Path"}],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","CompositeType":true,"Description":"Storage vendor LUN options.","Label":"Storage Vendor LUN Options","Name":"StorageVendorLunOptionsType","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[{"Condition":"eq","ControlParameter":"PlatformType","EnableParameters":["VolumeName","LUN"],"Name":"show-hitachi","ObjectType":"workflow.ParameterSet","Value":"storage.HitachiArray"},{"Condition":"eq","ControlParameter":"PlatformType","EnableParameters":["VolumeName","LUN"],"Name":"show-pure","ObjectType":"workflow.ParameterSet","Value":"storage.PureArray"},{"Condition":"eq","ControlParameter":"PlatformType","EnableParameters":["LunPath"],"Name":"show-netapp","ObjectType":"workflow.ParameterSet","Value":"storage.NetAppCluster"}],"Properties":{"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Platform type of the storage device.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Platform Type","Name":"PlatformType","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StoragePlatformType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Volume name must be between 1 and 63 alpha-numeric characters, and depending on the device target selected the limit may vary. The first and last character must be alphanumeric and name may also contain hyphen (-) character.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Volume","Name":"VolumeName","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageVolumeNameType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Assigns the LUN number to each connection. The connection fails for any host for which the specified LUN number is already in use. LUN must be between 1 and 16384, but may vary depending on the target device selected.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"LUN number","Name":"LUN","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageLunNumberType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"LunPath be between 1 and 254 characters long depending on the device target selected it may vary, for example /vol/vol1/lun1.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"LUN Path","Name":"LunPath","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageVendorLunPathType","ObjectType":"workflow.CustomDataProperty"},"Required":true}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Description":"Connect storage to a host with host name and details needed to create LUN ID. On successful execution, host name, details of the LUN ID are generated. For NetApp ONTAP Storage, connect storage LUN to an iGroup with Inputs as LUN name and iGroup name. iGroup is referred as Host for input. On successful execution iGroup name, LUN name and LUN number are generated as outputs.","Label":"New Storage LUN ID","Name":"NewStorageLunId","ObjectType":"workflow.TaskDefinition","Properties":{"InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageTargetDataType","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Storage Device","Name":"StorageDevice","ObjectType":"workflow.TargetDataType","Properties":[],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Storage vendor virtual machine name.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"InputParameters":{"PlatformType":"${workflow.inputDataType.StorageTargetDataType.ObjectType}"},"Label":"Storage Vendor Virtual Machine","Name":"StorageVendorVirtualMachineName","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageVendorVirtualMachineNameType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Host name must be between 1 and 63 alpha-numeric characters, and depending on the device target selected the limit may vary. The first and last character must be alphanumeric and name may also contain hyphen (-) character.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Host","Name":"HostName","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageHostNameType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Storage vendor host identifier.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"InputParameters":{"PlatformType":"${workflow.inputDataType.StorageTargetDataType.ObjectType}"},"Label":"Storage Vendor Host Identifier","Name":"StorageVendorHostIdentifier","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageVendorHostIdentifierType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Storage vendor LUN options.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"InputParameters":{"PlatformType":"${workflow.inputDataType.StorageTargetDataType.ObjectType}"},"Label":"Storage Vendor LUN Options","Name":"StorageVendorLunOptions","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageVendorLunOptionsType","ObjectType":"workflow.CustomDataProperty"},"Required":true}],"ObjectType":"workflow.Properties","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Host","Name":"HostName","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageHostNameType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Volume","Name":"VolumeName","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageVolumeNameType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"LUN number","Name":"LUN","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageLunNumberType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Volume ID.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Volume Id","Name":"VolumeId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":63,"Min":1,"ObjectType":"workflow.Constraints","Regex":"^[a-zA-Z0-9]+([a-zA-Z0-9-]*[a-zA-Z0-9])*$"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"LUN path.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"LUN Path","Name":"LunPath","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageVendorLunPathType","ObjectType":"workflow.CustomDataProperty"}}],"RetryCount":3,"RetryDelay":30,"RetryPolicy":"Fixed","SupportStatus":"Supported","Timeout":60,"TimeoutPolicy":"Retry"},"RollbackTasks":[],"SharedScope":"shared","Tags":[{"Key":"category","Value":"Storage"},{"Key":"platformType.PureStorageFlashArray","Value":"true"},{"Key":"platformType.NetAppActiveIqUnifiedManager","Value":"true"}],"Version":3},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.WorkflowDefinition","DefaultVersion":true,"InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageTargetDataType","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Storage Device","Name":"StorageDevice","ObjectType":"workflow.TargetDataType","Properties":[],"Required":true},{"ArrayItemType":{"ObjectType":"workflow.CustomArrayItem","Properties":{"CatalogMoid":"user","CustomDataTypeName":"HitachiStorageLUNPathSpecs","ObjectType":"workflow.CustomDataProperty"}},"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Path Specs","Max":1000,"Min":1,"Name":"PathSpecs","ObjectType":"workflow.ArrayDataType","Required":true}],"InputParameterSet":[],"Label":"New Hitachi LUN ID_batch_Loop","Name":"NewHitachiLUNID_batch_Loop","ObjectType":"workflow.WorkflowDefinition","OutputDefinition":[],"Properties":{"ObjectType":"workflow.WorkflowProperties","SupportStatus":"Supported"},"SharedScope":"user","Tasks":[{"Name":"StartTask","NextTask":"parallelLoop1","ObjectType":"workflow.StartTask"},{"Count":"{{len .global.workflow.input.PathSpecs}}","Description":"A Parallel Loop is a control task that runs one task or one sub-workflow multiple times based on a specified count.  The count can be a static value that is specified during design time or a dynamic value that is derived from workflow inputs or task outputs.  When the loop is executed, the count 'N' is determined, N tasks or sub-workflows are scheduled for execution in parallel.  When all N instances of the task or sub-workflow reach a final state the parallel loop will complete and workflow execution will move on to the next task.  If any one of the tasks or sub-workflows fails, then the entire loop will fail.  Dynamic values for count must be specified as a template.  For example, if a loop must run for a count which matches the length of a workflow input called StringArray, then the count must be specified using a template '{{ len .global.workflow.input.StringArray }}'.  The iteration of the loop is available using the keyword '.iteration' and it can be used to control inputs that feed into the task.  For example, the task inside the loop needs to take one value from the workflow input StringArray, then the task string input can be mapped to the template '{{ index .global.workflow.input.StringArray .iteration}}' during design.","Label":"Parallel Loop","LoopStartTask":"NewStorageLunId1","Name":"parallelLoop1","NumberOfBatches":1,"ObjectType":"workflow.LoopTask","OnSuccess":"SuccessEndTask","Parallel":true},{"CatalogMoid":"shared","Description":"Connect storage to a host with host name and details needed to create LUN ID. On successful execution, host name, details of the LUN ID are generated. For NetApp ONTAP Storage, connect storage LUN to an iGroup with Inputs as LUN name and iGroup name. iGroup is referred as Host for input. On successful execution iGroup name, LUN name and LUN number are generated as outputs.","InputParameters":{"HostName":"{{(index .global.workflow.input.PathSpecs .iteration).Host}}","StorageDevice":"${workflow.input.StorageDevice}","StorageVendorHostIdentifier":{"HitachiHostGroupParameters":{"HostGroupNumber":"{{(index .global.workflow.input.PathSpecs .iteration).HitachiHostGroupParameters.HostGroupNumber}}","PortId":"{{(index .global.workflow.input.PathSpecs .iteration).HitachiHostGroupParameters.PortId}}"},"PlatformType":"storage.HitachiArray"},"StorageVendorLunOptions":{"LUN":"{{(index .global.workflow.input.PathSpecs .iteration).LunNumber}}","PlatformType":"storage.HitachiArray","VolumeName":"{{(index .global.workflow.input.PathSpecs .iteration).Volume}}"},"StorageVendorVirtualMachineName":{"PlatformType":"storage.HitachiArray"}},"Label":"New Storage LUN ID","Name":"NewStorageLunId1","ObjectType":"workflow.WorkerTask","TaskDefinitionName":"NewStorageLunId","Version":3},{"Name":"SuccessEndTask","ObjectType":"workflow.SuccessEndTask"},{"Name":"FailureEndTask","ObjectType":"workflow.FailureEndTask"}],"UiInputFilters":[],"UiRenderingData":{"Positions":[{"Name":"StartTask","X":275,"Y":75},{"Name":"SuccessEndTask","X":275,"Y":339},{"Name":"FailureEndTask","X":415,"Y":339},{"Name":"parallelLoop1","X":180,"Y":145},{"Name":"NewStorageLunId1","X":193.00000000000003,"Y":238}]},"VariableDefinition":[],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/WorkflowDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.ErrorResponseHandler","Name":"PureArrayApiErrorResponseHandler","ObjectType":"workflow.ErrorResponseHandler","Parameters":[{"AcceptSingleValue":true,"ComplexType":"Error","ItemType":"complex","Name":"Errors","ObjectType":"content.Parameter","Path":"$","Type":"collection"}],"PlatformType":"PureStorageFlashArray","SharedScope":"shared","Types":[{"Name":"Error","ObjectType":"content.ComplexType","Parameters":[{"ItemType":"simple","Name":"Ctx","ObjectType":"content.Parameter","Path":"$.ctx","Type":"simple"},{"ItemType":"simple","Name":"Msg","ObjectType":"content.Parameter","Path":"$.msg","Type":"simple"},{"ItemType":"simple","Name":"ErrorCode","ObjectType":"content.Parameter","Path":"$.pure_err_code","Type":"simple"}]}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/ErrorResponseHandlers","Verb":"POST"},{"Body":{"ClassId":"workflow.ErrorResponseHandler","Name":"NetAppApiErrorResponseHandler","ObjectType":"workflow.ErrorResponseHandler","Parameters":[{"AcceptSingleValue":true,"ComplexType":"Error","ItemType":"complex","Name":"Errors","ObjectType":"content.Parameter","Path":"$","Type":"collection"}],"PlatformType":"NetAppActiveIqUnifiedManager","SharedScope":"shared","Types":[{"Name":"Error","ObjectType":"content.ComplexType","Parameters":[{"ItemType":"simple","Name":"Msg","ObjectType":"content.Parameter","Path":"$.error.message","Type":"simple"},{"ItemType":"simple","Name":"ErrorCode","ObjectType":"content.Parameter","Path":"$.error.code","Type":"simple"}]}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/ErrorResponseHandlers","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Description":"Connect FlashArray volume to host.","InterfaceTask":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"NewStorageLunId\" and Version eq 3"},"Label":"Connect FlashArray Volume to Host","Name":"ConnectFlashArrayVolumeToHost","ObjectType":"workflow.TaskDefinition","Properties":{"InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageTargetDataType","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Storage Device","Name":"StorageDevice","ObjectType":"workflow.TargetDataType","Properties":[],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Storage vendor virtual machine name.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"InputParameters":{"PlatformType":"${workflow.inputDataType.StorageTargetDataType.ObjectType}"},"Label":"Storage Vendor Virtual Machine","Name":"StorageVendorVirtualMachineName","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageVendorVirtualMachineNameType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Host name must be between 1 and 63 alpha-numeric characters, and depending on the device target selected the limit may vary. The first and last character must be alphanumeric and name may also contain hyphen (-) character.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Host","Name":"HostName","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageHostNameType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Storage vendor host identifier.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"InputParameters":{"PlatformType":"${workflow.inputDataType.StorageTargetDataType.ObjectType}"},"Label":"Storage Vendor Host Identifier","Name":"StorageVendorHostIdentifier","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageVendorHostIdentifierType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Storage vendor LUN options.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"InputParameters":{"PlatformType":"${workflow.inputDataType.StorageTargetDataType.ObjectType}"},"Label":"Storage Vendor LUN Options","Name":"StorageVendorLunOptions","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageVendorLunOptionsType","ObjectType":"workflow.CustomDataProperty"},"Required":true}],"ObjectType":"workflow.Properties","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Host","Name":"HostName","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageHostNameType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Volume","Name":"VolumeName","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageVolumeNameType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"LUN number","Name":"LUN","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageLunNumberType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Volume ID.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Volume Id","Name":"VolumeId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":63,"Min":1,"ObjectType":"workflow.Constraints","Regex":"^[a-zA-Z0-9]+([a-zA-Z0-9-]*[a-zA-Z0-9])*$"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"LUN path.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"LUN Path","Name":"LunPath","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageVendorLunPathType","ObjectType":"workflow.CustomDataProperty"}}],"RetryCount":3,"RetryDelay":30,"RetryPolicy":"Fixed","SupportStatus":"Supported","Timeout":60,"TimeoutPolicy":"Retry"},"RollbackTasks":[],"SharedScope":"shared","Tags":[{"Key":"platformType.PureStorageFlashArray","Value":"true"}],"Version":3},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Description":"Connect Hitachi storage volume to host group with volume ID, port ID, host group number and LUN number as inputs.","InterfaceTask":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"NewStorageLunId\" and Version eq 3"},"Label":"Connect Hitachi Volume to Storage Host Group","Name":"ConnectHitachiVolumeToHostGroup","ObjectType":"workflow.TaskDefinition","Properties":{"InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageTargetDataType","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Storage Device","Name":"StorageDevice","ObjectType":"workflow.TargetDataType","Properties":[],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Storage vendor virtual machine name.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"InputParameters":{"PlatformType":"${workflow.inputDataType.StorageTargetDataType.ObjectType}"},"Label":"Storage Vendor Virtual Machine","Name":"StorageVendorVirtualMachineName","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageVendorVirtualMachineNameType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Host name must be between 1 and 63 alpha-numeric characters, and depending on the device target selected the limit may vary. The first and last character must be alphanumeric and name may also contain hyphen (-) character.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Host","Name":"HostName","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageHostNameType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Storage vendor host identifier.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"InputParameters":{"PlatformType":"${workflow.inputDataType.StorageTargetDataType.ObjectType}"},"Label":"Storage Vendor Host Identifier","Name":"StorageVendorHostIdentifier","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageVendorHostIdentifierType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Storage vendor LUN options.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"InputParameters":{"PlatformType":"${workflow.inputDataType.StorageTargetDataType.ObjectType}"},"Label":"Storage Vendor LUN Options","Name":"StorageVendorLunOptions","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageVendorLunOptionsType","ObjectType":"workflow.CustomDataProperty"},"Required":true}],"ObjectType":"workflow.Properties","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Host","Name":"HostName","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageHostNameType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Volume","Name":"VolumeName","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageVolumeNameType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"LUN number","Name":"LUN","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageLunNumberType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Volume ID.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Volume Id","Name":"VolumeId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":63,"Min":1,"ObjectType":"workflow.Constraints","Regex":"^[a-zA-Z0-9]+([a-zA-Z0-9-]*[a-zA-Z0-9])*$"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"LUN path.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"LUN Path","Name":"LunPath","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageVendorLunPathType","ObjectType":"workflow.CustomDataProperty"}}],"RetryCount":3,"RetryDelay":30,"RetryPolicy":"Fixed","SupportStatus":"Supported","Timeout":60,"TimeoutPolicy":"Retry"},"RollbackTasks":[],"SharedScope":"shared","Tags":[{"Key":"platformType.HitachiVirtualStoragePlatform","Value":"true"}],"Version":3},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","Description":"Create a mappage between storage initiator group and a lun with initiator group name, lun path, storage virtual machine name as the inputs. On successful execution initiator group name, lun path and LUN number assigned to the connection are generated as outputs.","InterfaceTask":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"NewStorageLunId\" and Version eq 3"},"Label":"New NetApp LUN Map","Name":"NewNetAppLunMap","ObjectType":"workflow.TaskDefinition","Properties":{"InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageTargetDataType","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Storage Device","Name":"StorageDevice","ObjectType":"workflow.TargetDataType","Properties":[],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Storage vendor virtual machine name.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"InputParameters":{"PlatformType":"${workflow.inputDataType.StorageTargetDataType.ObjectType}"},"Label":"Storage Vendor Virtual Machine","Name":"StorageVendorVirtualMachineName","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageVendorVirtualMachineNameType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Host name must be between 1 and 63 alpha-numeric characters, and depending on the device target selected the limit may vary. The first and last character must be alphanumeric and name may also contain hyphen (-) character.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Host","Name":"HostName","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageHostNameType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Storage vendor host identifier.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"InputParameters":{"PlatformType":"${workflow.inputDataType.StorageTargetDataType.ObjectType}"},"Label":"Storage Vendor Host Identifier","Name":"StorageVendorHostIdentifier","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageVendorHostIdentifierType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Storage vendor LUN options.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"InputParameters":{"PlatformType":"${workflow.inputDataType.StorageTargetDataType.ObjectType}"},"Label":"Storage Vendor LUN Options","Name":"StorageVendorLunOptions","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageVendorLunOptionsType","ObjectType":"workflow.CustomDataProperty"},"Required":true}],"ObjectType":"workflow.Properties","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Host","Name":"HostName","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageHostNameType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Volume","Name":"VolumeName","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageVolumeNameType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"LUN number","Name":"LUN","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageLunNumberType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Volume ID.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Volume Id","Name":"VolumeId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":63,"Min":1,"ObjectType":"workflow.Constraints","Regex":"^[a-zA-Z0-9]+([a-zA-Z0-9-]*[a-zA-Z0-9])*$"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"LUN path.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"LUN Path","Name":"LunPath","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageVendorLunPathType","ObjectType":"workflow.CustomDataProperty"}}],"RetryCount":3,"RetryDelay":30,"RetryPolicy":"Fixed","SupportStatus":"Supported","Timeout":60,"TimeoutPolicy":"Retry"},"RollbackTasks":[],"SharedScope":"shared","Tags":[{"Key":"platformType.NetAppActiveIqUnifiedManager","Value":"true"}],"Version":3},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Description":"Connect FlashArray volume to host2x.","InterfaceTask":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"NewStorageLunId\" and Version eq 3"},"Label":"Connect FlashArray Volume to Host2x","Name":"ConnectFlashArrayVolumeToHost2x","ObjectType":"workflow.TaskDefinition","Properties":{"InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageTargetDataType","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Storage Device","Name":"StorageDevice","ObjectType":"workflow.TargetDataType","Properties":[],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Storage vendor virtual machine name.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"InputParameters":{"PlatformType":"${workflow.inputDataType.StorageTargetDataType.ObjectType}"},"Label":"Storage Vendor Virtual Machine","Name":"StorageVendorVirtualMachineName","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageVendorVirtualMachineNameType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Host name must be between 1 and 63 alpha-numeric characters, and depending on the device target selected the limit may vary. The first and last character must be alphanumeric and name may also contain hyphen (-) character.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Host","Name":"HostName","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageHostNameType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Storage vendor host identifier.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"InputParameters":{"PlatformType":"${workflow.inputDataType.StorageTargetDataType.ObjectType}"},"Label":"Storage Vendor Host Identifier","Name":"StorageVendorHostIdentifier","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageVendorHostIdentifierType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Storage vendor LUN options.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"InputParameters":{"PlatformType":"${workflow.inputDataType.StorageTargetDataType.ObjectType}"},"Label":"Storage Vendor LUN Options","Name":"StorageVendorLunOptions","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageVendorLunOptionsType","ObjectType":"workflow.CustomDataProperty"},"Required":true}],"ObjectType":"workflow.Properties","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Host","Name":"HostName","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageHostNameType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Volume","Name":"VolumeName","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageVolumeNameType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"LUN number","Name":"LUN","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageLunNumberType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Volume ID.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Volume Id","Name":"VolumeId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":63,"Min":1,"ObjectType":"workflow.Constraints","Regex":"^[a-zA-Z0-9]+([a-zA-Z0-9-]*[a-zA-Z0-9])*$"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"LUN path.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"LUN Path","Name":"LunPath","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"StorageVendorLunPathType","ObjectType":"workflow.CustomDataProperty"}}],"RetryCount":3,"RetryDelay":30,"RetryPolicy":"Fixed","SupportStatus":"Supported","Timeout":60,"TimeoutPolicy":"Retry"},"RollbackTasks":[],"SharedScope":"shared","Tags":[{"Key":"platformType.PureStorageFlashArray","Value":"true"}],"Version":3},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"Batch":[{"Body":"{{if index .global.task.input.StorageVendorLunOptions \"LUN\"}}{\"lun\": {{.global.task.input.StorageVendorLunOptions.LUN}}}{{end}}","ContentType":"json","EndpointRequestType":"Internal","Method":"POST","Name":"ConnectFlashArrayVolumeToHost","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{eq .global.ConnectFlashArrayVolumeToHost.output.HttpStatusCode 401}}","Message":"Invalid credentials. Please check the username and password for connecting to the endpoint.","ObjectType":"workflow.Outcome","Type":"TerminalError"},{"Condition":"{{and (ge .global.ConnectFlashArrayVolumeToHost.output.HttpStatusCode 400) (lt .global.ConnectFlashArrayVolumeToHost.output.HttpStatusCode 600)}}","Error":true,"Message":"{{if .global.ConnectFlashArrayVolumeToHost.output.Errors}}{{$err := (index .global.ConnectFlashArrayVolumeToHost.output.Errors 0)}}{{if (index $err \"Ctx\")}}{{$err.Ctx}}: {{end}}{{$err.Msg}}{{else}}{{.global.ConnectFlashArrayVolumeToHost.output.HttpStatusMsg}}{{end}}","ObjectType":"workflow.Outcome"},{"Condition":"true","Message":"Connected volume to host successfully","ObjectType":"workflow.Outcome"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"HostName","ObjectType":"content.Parameter","Path":"$.name","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"VolumeName","ObjectType":"content.Parameter","Path":"$.vol","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"LUN","ObjectType":"content.Parameter","Path":"$.lun","Secure":false,"Type":"simple"}],"Types":[]},"TargetType":"Endpoint","Url":"/host/{{.global.task.input.HostName | TrimSpace }}/volume/{{.global.task.input.StorageVendorLunOptions.VolumeName | TrimSpace}}"},{"Body":"{\"Type\":\"storage.PureHostLun\",\"NamingProperty\":\"VolumeName\",\"Values\": [\"{{.global.task.input.StorageVendorLunOptions.VolumeName}}\"],\"RegisteredDevice\":\"{{.global.task.target.RegisteredDeviceMoid}}\"}","ContentType":"json","EndpointRequestType":"Internal","Method":"POST","Name":"UpdateInventory","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{eq .global.UpdateInventory.output.HttpStatusCode 200}}","Message":"Connected volume to host successfully.","ObjectType":"workflow.Outcome"},{"Condition":"{{ne .global.UpdateInventory.output.HttpStatusCode 200}}","Message":"{{.global.UpdateInventory.output.HttpStatusMsg}}","ObjectType":"workflow.Outcome","Type":"Error"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[],"Types":[]},"TargetType":"Local","Url":"/v1/task/PureScopedInventories"},{"Body":"{\"Type\":\"storage.PureHost\",\"NamingProperty\":\"Name\",\"Values\": [\"{{.global.task.input.HostName}}\"],\"RegisteredDevice\":\"{{.global.task.target.RegisteredDeviceMoid}}\"}","ContentType":"json","EndpointRequestType":"Internal","Method":"POST","Name":"UpdateHostInventory","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{eq .global.UpdateHostInventory.output.HttpStatusCode 200}}","Message":"Connected volume to host successfully.","ObjectType":"workflow.Outcome"},{"Condition":"{{ne .global.UpdateHostInventory.output.HttpStatusCode 200}}","Message":"{{.global.UpdateHostInventory.output.HttpStatusMsg}}","ObjectType":"workflow.Outcome","Type":"Error"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[],"Types":[]},"TargetType":"Local","Url":"/v1/task/PureScopedInventories"}],"CancelAction":[],"ClassId":"workflow.BatchApiExecutor","Constraints":{"ObjectType":"workflow.TaskConstraints","TargetDataType":{"ApiVersion":"1","ObjectType":"storage.PureArray"}},"Description":"Connect FlashArray Volume to Host.","ErrorResponseHandler":{"ObjectType":"workflow.ErrorResponseHandler","Selector":"Name eq \"PureArrayApiErrorResponseHandler\""},"Name":"ConnectFlashArrayVolumeToHost","ObjectType":"workflow.BatchApiExecutor","Output":{"HostName":"{{.global.ConnectFlashArrayVolumeToHost.output.HostName}}","LUN":"{{.global.ConnectFlashArrayVolumeToHost.output.LUN}}","VolumeName":"{{.global.ConnectFlashArrayVolumeToHost.output.VolumeName}}"},"RetryFromFailedApi":true,"SharedScope":"shared","SkipOnCondition":"{{if .global.task.input.HostName}} false {{else}} true {{end}}","TaskDefinition":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"ConnectFlashArrayVolumeToHost\" and Version eq 3"}},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/BatchApiExecutors","Verb":"POST"},{"Body":{"Batch":[{"Body":"{ \"portId\": \"{{.global.task.input.StorageVendorHostIdentifier.HitachiHostGroupParameters.PortId}}\",\"hostGroupNumber\":{{.global.task.input.StorageVendorHostIdentifier.HitachiHostGroupParameters.HostGroupNumber}},\"ldevId\":{{.global.task.input.StorageVendorLunOptions.VolumeName}}{{if index .global.task.input.StorageVendorLunOptions \"LUN\"}}, \"lun\":{{.global.task.input.StorageVendorLunOptions.LUN}}{{end}} }","ContentType":"json","EndpointRequestType":"Internal","Headers":{"Response-Job-Status":["Completed"]},"Method":"POST","Name":"ConnectHitachiVolumeToStorageHostGroup","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{(eq .global.ConnectHitachiVolumeToStorageHostGroup.output.HttpStatusCode 503) }}","Error":true,"Message":"HTTP Status code: {{.global.ConnectHitachiVolumeToStorageHostGroup.output.HttpStatusCode}}: {{if .global.ConnectHitachiVolumeToStorageHostGroup.output.Errors}}{ {{range $k, $v := .global.ConnectHitachiVolumeToStorageHostGroup.output.Errors}}[{{$k}}]: \"{{$v}}\" {{end}}}{{else}}REST API server or the storage system is busy. Try again later.{{end}}","ObjectType":"workflow.Outcome"},{"Condition":"{{and (ge .global.ConnectHitachiVolumeToStorageHostGroup.output.HttpStatusCode 400) (lt .global.ConnectHitachiVolumeToStorageHostGroup.output.HttpStatusCode 600)}}","Error":true,"Message":"HTTP Status code: {{.global.ConnectHitachiVolumeToStorageHostGroup.output.HttpStatusCode}}: {{if .global.ConnectHitachiVolumeToStorageHostGroup.output.Errors}}{ {{range $k, $v := .global.ConnectHitachiVolumeToStorageHostGroup.output.Errors}}[{{$k}}]: \"{{$v}}\" {{end}}}{{else}}Http error.{{end}}","ObjectType":"workflow.Outcome"},{"Condition":"{{ ContainsString .global.ConnectHitachiVolumeToStorageHostGroup.output.State \"Failed\" }}","Error":true,"Message":"The state of the job is \"Failed\". {{if .global.ConnectHitachiVolumeToStorageHostGroup.output.Errors}}{ {{range $k, $v := .global.ConnectHitachiVolumeToStorageHostGroup.output.Errors}}[{{$k}}]: \"{{$v}}\" {{end}}}{{end}}","ObjectType":"workflow.Outcome"},{"Condition":"{{ ContainsString .global.ConnectHitachiVolumeToStorageHostGroup.output.State \"Unknown\" }}","Error":true,"Message":"The state of the job is \"Unknown\".","ObjectType":"workflow.Outcome"},{"Condition":"{{ ContainsString .global.ConnectHitachiVolumeToStorageHostGroup.output.State \"Succeeded\" }}","Message":"Connected volume to host group successfully.","ObjectType":"workflow.Outcome"},{"Condition":"true","Error":true,"Message":"Unexpected internal error.","ObjectType":"workflow.Outcome"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"AffectedResource","ObjectType":"content.Parameter","Path":"$.affectedResources[0]","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"State","ObjectType":"content.Parameter","Path":"$.state","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"CompletedTime","ObjectType":"content.Parameter","Path":"$.completedTime","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Errors","ObjectType":"content.Parameter","Path":"$","Secure":false,"Type":"simple"}],"Types":[]},"TargetType":"Endpoint","Url":"/ConfigurationManager/v1/objects/storages/{STORAGEDEVICEID}/luns"},{"ContentType":"json","EndpointRequestType":"Internal","Method":"GET","Name":"HitachiLUNGetNAAID","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{(eq .global.HitachiLUNGetNAAID.output.HttpStatusCode 503)}}","Error":true,"Message":"HTTP Status code: {{.global.HitachiLUNGetNAAID.output.HttpStatusCode}}: {{if .global.HitachiLUNGetNAAID.output.Errors}}{ {{range $k, $v := .global.HitachiLUNGetNAAID.output.Errors}}[{{$k}}]: \"{{$v}}\" {{end}}}{{else}}REST API server or the storage system is busy. Try again later.{{end}}","ObjectType":"workflow.Outcome"},{"Condition":"{{and (ge .global.HitachiLUNGetNAAID.output.HttpStatusCode 400) (lt .global.HitachiLUNGetNAAID.output.HttpStatusCode 600)}}","Error":true,"Message":"HTTP Status code: {{.global.HitachiLUNGetNAAID.output.HttpStatusCode}}: {{if .global.HitachiLUNGetNAAID.output.Errors}}{ {{range $k, $v := .global.HitachiLUNGetNAAID.output.Errors}}[{{$k}}]: \"{{$v}}\" {{end}}}{{else}}Http error.{{end}}","ObjectType":"workflow.Outcome"},{"Condition":"{{(eq .global.HitachiLUNGetNAAID.output.HttpStatusCode 200)}}","Message":"Connected volume to host group successfully (Get NAA ID successfully).","ObjectType":"workflow.Outcome"},{"Condition":"true","Error":true,"Message":"Unexpected internal error.","ObjectType":"workflow.Outcome"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"NaaId","ObjectType":"content.Parameter","Path":"$.naaId","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Errors","ObjectType":"content.Parameter","Path":"$","Secure":false,"Type":"simple"}],"Types":[]},"TargetType":"Endpoint","Url":"/ConfigurationManager/v1/objects/storages/{STORAGEDEVICEID}/ldevs/{{.global.task.input.StorageVendorLunOptions.VolumeName}}"},{"ContentType":"json","EndpointRequestType":"Internal","Method":"GET","Name":"GetObjectId","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{(eq .global.GetObjectId.output.HttpStatusCode 200) }}","Message":"Connected volume to host group successfully (Get NAA ID successfully).","ObjectType":"workflow.Outcome"},{"Condition":"true","Error":true,"Message":"HTTP Status code: {{.global.GetObjectId.output.HttpStatusCode}}: {{if .global.GetObjectId.output.Errors}}{ {{range $k, $v := .global.GetObjectId.output.Errors}}[{{$k}}]: \"{{$v}}\" {{end}}}{{else}}Http error.{{end}}","ObjectType":"workflow.Outcome"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"ObjectId","ObjectType":"content.Parameter","Path":"$.lun","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Errors","ObjectType":"content.Parameter","Path":"$","Secure":false,"Type":"simple"}],"Types":[]},"TargetType":"Endpoint","Url":"{{.global.ConnectHitachiVolumeToStorageHostGroup.output.AffectedResource}}"},{"Body":"{\"Type\":\"storage.HitachiHostLun\",\"NamingProperty\":\"VolumeName\",\"Values\": [\"{{.global.task.input.StorageVendorLunOptions.VolumeName}}\"],\"RegisteredDevice\":\"{{.global.task.target.RegisteredDeviceMoid}}\"}","ContentType":"json","EndpointRequestType":"Internal","Method":"POST","Name":"UpdateInventory","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{eq .global.UpdateInventory.output.HttpStatusCode 200}}","Message":"Connected volume to host group successfully.","ObjectType":"workflow.Outcome"},{"Condition":"{{ne .global.UpdateInventory.output.HttpStatusCode 200}}","Message":"{{.global.UpdateInventory.output.HttpStatusMsg}}","ObjectType":"workflow.Outcome","Type":"Error"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[],"Types":[]},"TargetType":"Local","Url":"/v1/task/HitachiScopedInventories"}],"CancelAction":[],"ClassId":"workflow.BatchApiExecutor","Constraints":{"ObjectType":"workflow.TaskConstraints","TargetDataType":{"ObjectType":"storage.HitachiArray"}},"Description":"Set the LUN path by mapping the volume with the LUN in the host group.","Name":"ConnectHitachiVolumeToStorageHostGroup","ObjectType":"workflow.BatchApiExecutor","Output":{"LUN":"{{.global.GetObjectId.output.ObjectId}}","VolumeId":"{{.global.HitachiLUNGetNAAID.output.NaaId}}"},"RetryFromFailedApi":true,"SharedScope":"shared","TaskDefinition":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"ConnectHitachiVolumeToHostGroup\" and Version eq 3"}},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/BatchApiExecutors","Verb":"POST"},{"Body":{"Batch":[{"ContentType":"json","EndpointRequestType":"Internal","Method":"GET","Name":"GetClusterUuid","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{eq .global.GetClusterUuid.output.HttpStatusCode 200}}","Message":"Get Cluster UUID successful.","ObjectType":"workflow.Outcome","Type":"Success"},{"Condition":"{{ne .global.GetClusterUuid.output.HttpStatusCode 200}}","Message":"Get Cluster UUID failed","ObjectType":"workflow.Outcome","Type":"Error"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Uuid","ObjectType":"content.Parameter","Path":"$.Uuid","Secure":false,"Type":"simple"}],"Types":[]},"TargetType":"Local","Url":"/v1/storage/NetAppClusters/{{.global.task.input.StorageDevice.Moid}}?$select=Uuid"},{"Body":"{\"svm\": {\"name\": \"{{.global.task.input.StorageVendorVirtualMachineName.StorageVirtualMachineName}}\"}, \"igroup\": {\"name\": \"{{.global.task.input.HostName}}\"}, \"lun\": {\"name\": \"{{.global.task.input.StorageVendorLunOptions.LunPath}}\"}}","ContentType":"json","EndpointRequestType":"Internal","Method":"POST","Name":"NewLunMap","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{ and (ge .global.NewLunMap.output.HttpStatusCode 400) (le .global.NewLunMap.output.HttpStatusCode 499)}}","Message":"{{if .global.NewLunMap.output.Errors}}{{$err := (index .global.NewLunMap.output.Errors 0)}}{{if (index $err \"Ctx\")}}{{$err.ErrorCode}}: {{end}}{{$err.Msg}}{{else}}{{.global.NewLunMap.output.HttpStatusMsg}}{{end}}","ObjectType":"workflow.Outcome","Type":"TerminalError"},{"Condition":"{{(eq .global.NewLunMap.output.HttpStatusCode 500)}}","Message":"{{if .global.NewLunMap.output.Errors}}{{$err := (index .global.NewLunMap.output.Errors 0)}}{{if (index $err \"Ctx\")}}{{$err.ErrorCode}}: {{end}}{{$err.Msg}}{{else}}{{.global.NewLunMap.output.HttpStatusMsg}}{{end}}","ObjectType":"workflow.Outcome","Type":"TerminalError"},{"Condition":"{{ and (ge .global.NewLunMap.output.HttpStatusCode 501) (le .global.NewLunMap.output.HttpStatusCode 599)}}","Message":"{{if .global.NewLunMap.output.Errors}}{{$err := (index .global.NewLunMap.output.Errors 0)}}{{if (index $err \"Ctx\")}}{{$err.ErrorCode}}: {{end}}{{$err.Msg}}{{else}}{{.global.NewLunMap.output.HttpStatusMsg}}{{end}}","ObjectType":"workflow.Outcome","Type":"Error"},{"Condition":"{{(eq .global.NewLunMap.output.HttpStatusCode 201)}}","Message":"LUN mapped successfully.","ObjectType":"workflow.Outcome","Type":"Success"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"InitiatorGroupName","ObjectType":"content.Parameter","Path":"$.records[0].igroup.name","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Lun","ObjectType":"content.Parameter","Path":"$.records[0].logical_unit_number","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"LunPath","ObjectType":"content.Parameter","Path":"$.records[0].lun.name","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"LunUuid","ObjectType":"content.Parameter","Path":"$.records[0].lun.uuid","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"iGroupUuid","ObjectType":"content.Parameter","Path":"$.records[0].igroup.uuid","Secure":false,"Type":"simple"}],"Types":[]},"TargetType":"Endpoint","Url":"/api/gateways/{{.global.GetClusterUuid.output.Uuid}}/protocols/san/lun-maps?return_records=true"},{"Body":"{\"Type\":\"storage.NetAppLunMap\",\"Queries\": [{\"LunUuid\":\"{{.global.NewLunMap.output.LunUuid}}\", \"iGroupUuid\": \"{{.global.NewLunMap.output.iGroupUuid}}\", \"ClusterUuid\": \"{{.global.GetClusterUuid.output.Uuid}}\"}],\"RegisteredDevice\":\"{{.global.task.target.RegisteredDeviceMoid}}\"}","ContentType":"json","EndpointRequestType":"Internal","Method":"POST","Name":"UpdateInventory","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{eq .global.UpdateInventory.output.HttpStatusCode 200}}","Message":"LUN mapped successfully","ObjectType":"workflow.Outcome","Type":"Success"},{"Condition":"{{ne .global.UpdateInventory.output.HttpStatusCode 200}}","Message":"{{.global.UpdateInventory.output.HttpStatusMsg}}","ObjectType":"workflow.Outcome","Type":"Error"}],"Protocol":"https","TargetType":"Local","Url":"/v1/task/NetAppScopedInventories"}],"CancelAction":[],"ClassId":"workflow.BatchApiExecutor","Constraints":{"ObjectType":"workflow.TaskConstraints","TargetDataType":{"ObjectType":"storage.NetAppCluster"}},"Description":"New NetApp LUN map.","ErrorResponseHandler":{"ObjectType":"workflow.ErrorResponseHandler","Selector":"Name eq \"NetAppApiErrorResponseHandler\""},"Name":"NewNetAppLunMap","ObjectType":"workflow.BatchApiExecutor","Output":{"HostName":"{{.global.NewLunMap.output.InitiatorGroupName}}","LUN":"{{.global.NewLunMap.output.Lun}}","LunPath":"{{.global.NewLunMap.output.LunPath}}"},"RetryFromFailedApi":true,"SharedScope":"shared","SkipOnCondition":"{{if ne .global.task.input.StorageDevice.ObjectType \"storage.NetAppCluster\"}} true {{end}}","TaskDefinition":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"NewNetAppLunMap\" and Version eq 3"}},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/BatchApiExecutors","Verb":"POST"},{"Body":{"Batch":[{"Body":"{{if index .global.task.input.StorageVendorLunOptions \"LUN\"}}{\"lun\": {{.global.task.input.StorageVendorLunOptions.LUN}}}{{end}}","ContentType":"json","EndpointRequestType":"Internal","Method":"POST","Name":"ConnectFlashArrayVolumeToHost2x","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{eq .global.ConnectFlashArrayVolumeToHost2x.output.HttpStatusCode 401}}","Message":"Invalid credentials. Please check the username and password for connecting to the endpoint.","ObjectType":"workflow.Outcome","Type":"TerminalError"},{"Condition":"{{and (ge .global.ConnectFlashArrayVolumeToHost2x.output.HttpStatusCode 400) (lt .global.ConnectFlashArrayVolumeToHost2x.output.HttpStatusCode 600)}}","Error":true,"Message":"{{if .global.ConnectFlashArrayVolumeToHost2x.output.Errors}}{{$err := (index .global.ConnectFlashArrayVolumeToHost2x.output.Errors 0)}}{{if (index $err \"Ctx\")}}{{$err.Ctx}}: {{end}}{{$err.Msg}}{{else}}{{.global.ConnectFlashArrayVolumeToHost2x.output.HttpStatusMsg}}{{end}}","ObjectType":"workflow.Outcome"},{"Condition":"true","Message":"Connected volume to host successfully","ObjectType":"workflow.Outcome"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"HostName","ObjectType":"content.Parameter","Path":"$.items[0].host.name","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"VolumeName","ObjectType":"content.Parameter","Path":"$.items[0].volume.name","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"LUN","ObjectType":"content.Parameter","Path":"$.items[0].lun","Secure":false,"Type":"simple"}],"Types":[]},"TargetType":"Endpoint","Url":"/connections?host_names={{.global.task.input.HostName | TrimSpace }}&volume_names={{.global.task.input.StorageVendorLunOptions.VolumeName | TrimSpace}}"},{"Body":"{\"Type\":\"storage.PureHostLun\",\"NamingProperty\":\"VolumeName\",\"Values\": [\"{{.global.task.input.StorageVendorLunOptions.VolumeName}}\"],\"RegisteredDevice\":\"{{.global.task.target.RegisteredDeviceMoid}}\"}","ContentType":"json","EndpointRequestType":"Internal","Method":"POST","Name":"UpdateInventory","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{eq .global.UpdateInventory.output.HttpStatusCode 200}}","Message":"Connected volume to host successfully.","ObjectType":"workflow.Outcome"},{"Condition":"{{ne .global.UpdateInventory.output.HttpStatusCode 200}}","Message":"{{.global.UpdateInventory.output.HttpStatusMsg}}","ObjectType":"workflow.Outcome","Type":"Error"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[],"Types":[]},"TargetType":"Local","Url":"/v1/task/PureScopedInventories"},{"Body":"{\"Type\":\"storage.PureHost\",\"NamingProperty\":\"Name\",\"Values\": [\"{{.global.task.input.HostName}}\"],\"RegisteredDevice\":\"{{.global.task.target.RegisteredDeviceMoid}}\"}","ContentType":"json","EndpointRequestType":"Internal","Method":"POST","Name":"UpdateHostInventory","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{eq .global.UpdateHostInventory.output.HttpStatusCode 200}}","Message":"Connected volume to host successfully.","ObjectType":"workflow.Outcome"},{"Condition":"{{ne .global.UpdateHostInventory.output.HttpStatusCode 200}}","Message":"{{.global.UpdateHostInventory.output.HttpStatusMsg}}","ObjectType":"workflow.Outcome","Type":"Error"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[],"Types":[]},"TargetType":"Local","Url":"/v1/task/PureScopedInventories"}],"CancelAction":[],"ClassId":"workflow.BatchApiExecutor","Constraints":{"ObjectType":"workflow.TaskConstraints","TargetDataType":{"ApiVersion":"2","ObjectType":"storage.PureArray"}},"Description":"Connect FlashArray Volume to Host2x.","ErrorResponseHandler":{"ObjectType":"workflow.ErrorResponseHandler","Selector":"Name eq \"PureArrayApiErrorResponseHandler\""},"Name":"ConnectFlashArrayVolumeToHost2x","ObjectType":"workflow.BatchApiExecutor","Output":{"HostName":"{{.global.ConnectFlashArrayVolumeToHost2x.output.HostName}}","LUN":"{{.global.ConnectFlashArrayVolumeToHost2x.output.LUN}}","VolumeName":"{{.global.ConnectFlashArrayVolumeToHost2x.output.VolumeName}}"},"RetryFromFailedApi":true,"SharedScope":"shared","SkipOnCondition":"{{if .global.task.input.HostName}} false {{else}} true {{end}}","TaskDefinition":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"ConnectFlashArrayVolumeToHost2x\" and Version eq 3"}},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/BatchApiExecutors","Verb":"POST"}]